import{p as h,a as p,j as s,C as g,b as f,d as F,e as C,F as b,f as S,h as t,i,k as c,l,I as m,n as u,o as w,B as d,L as y,R as I}from"./index-D4VFHoT1.js";import{O as N}from"./or.decorator-Bbmv5chb.js";import{u as k,a as E,t as P,z as o}from"./index-DS1htU0q.js";const v=async a=>(await E.post("http://localhost:6969/authentication/sign-in",a)).data,B=()=>k({mutationFn:v,mutationKey:["sign-in"]}),D=o.object({email:o.string(),password:o.string()});function A(){const{login:a}=h(),e=p({resolver:P(D),defaultValues:{email:"",password:""}}),{mutate:x}=B();function j(n){x(n,{onSuccess:r=>{a(r.user,r.token.accessToken)},onError:r=>{console.error("Error registering user:",r)}})}return s.jsx("div",{className:"flex h-full items-center justify-center bg-[#5B96A9]",children:s.jsxs(g,{className:"w-[400px]",children:[s.jsxs(f,{className:"text-center",children:[s.jsx(F,{children:"Welcome back to Dojo"}),s.jsx(C,{children:"Please, sign in with your account"})]}),s.jsx(b,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(j),children:[s.jsxs(S,{className:"space-y-4",children:[s.jsx(t,{control:e.control,name:"email",render:({field:n})=>s.jsxs(i,{children:[s.jsx(c,{children:"Email"}),s.jsx(l,{children:s.jsx(m,{...n})}),s.jsx(u,{})]})}),s.jsx(t,{control:e.control,name:"password",render:({field:n})=>s.jsxs(i,{children:[s.jsx(c,{children:"Password"}),s.jsx(l,{children:s.jsx(m,{...n})}),s.jsx(u,{})]})})]}),s.jsxs(w,{className:"flex flex-col gap-y-2",children:[s.jsx(d,{type:"submit",className:"w-full",children:"Sign in"}),s.jsx(N,{}),s.jsx(d,{asChild:!0,variant:"link",children:s.jsx(y,{to:I.SIGNUP,children:"Sign up"})})]})]})})]})})}export{A as default};
