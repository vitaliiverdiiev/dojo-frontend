import{r as j,u as g,a as F,j as s,C as b,b as y,d as C,e as w,F as N,f as S,h as o,i,k as l,l as c,I as d,m as v,n as m,o as E,B as h}from"./index-C525ET8i.js";import{O as T}from"./or.decorator-CRtw-4-u.js";import{u as U,a as D,t as k,z as a}from"./index-Aeah9cAS.js";const B=async r=>(await D.post("http://localhost:6969/authentication/sign-up",r)).data,I=()=>U({mutationFn:B,mutationKey:["sign-up"]}),M=a.object({email:a.string(),password:a.string(),firstname:a.string()});function z(){const[r,u]=j.useState(!1),x=g(),n=F({resolver:k(M),defaultValues:{email:"",firstname:"",password:""}}),{mutate:p}=I();function f(e){p(e,{onSuccess:t=>{u(!0),console.log("User registered successfully:",t)},onError:t=>{console.error("Error registering user:",t)}})}return j.useEffect(()=>{if(r){const e=setTimeout(()=>{x("/blog-posts")},3e3);return()=>clearTimeout(e)}},[r]),s.jsxs("div",{className:"flex h-full items-center justify-center bg-[#5B96A9]",children:[!r&&s.jsxs(b,{className:"w-[400px]",children:[s.jsxs(y,{className:"text-center",children:[s.jsx(C,{children:"Welcome to Dojo"}),s.jsx(w,{children:"Please, create an account"})]}),s.jsx(N,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(f),children:[s.jsxs(S,{className:"space-y-4",children:[s.jsx(o,{control:n.control,name:"firstname",render:({field:e})=>s.jsxs(i,{children:[s.jsx(l,{children:"First name"}),s.jsx(c,{children:s.jsx(d,{placeholder:"or fullname",...e})}),s.jsx(v,{children:"This is your public display name."}),s.jsx(m,{})]})}),s.jsx(o,{control:n.control,name:"email",render:({field:e})=>s.jsxs(i,{children:[s.jsx(l,{children:"Email"}),s.jsx(c,{children:s.jsx(d,{...e})}),s.jsx(m,{})]})}),s.jsx(o,{control:n.control,name:"password",render:({field:e})=>s.jsxs(i,{children:[s.jsx(l,{children:"Password"}),s.jsx(c,{children:s.jsx(d,{...e})}),s.jsx(m,{})]})})]}),s.jsxs(E,{className:"flex-col space-y-2",children:[s.jsx(h,{type:"submit",className:"w-full",children:"Sign Up"}),s.jsx(T,{}),s.jsx(h,{onClick:()=>x("/sign-in"),type:"button",variant:"outline",className:"w-full",children:"Sign in"})]})]})})]}),r&&s.jsx("div",{className:"h-full",children:s.jsxs("span",{children:["Thank you for signing up!"," ",s.jsx("span",{children:"You will be redirected shortly.."})]})})]})}export{z as default};
